(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[217,220],{"37no":function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return u}));var o=t("7w6Q"),r=100,i=.01,a=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function c(e){return new Promise((function(n,t){if(document.querySelector('script[src="'.concat(e,'"]')))n();else{var o=document.createElement("script");o.src=e,o.async=!0,o.addEventListener("load",n),o.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(o)}}))}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.OTHER,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=t?"web":"mweb";return new Promise((function(t,u){if(document.querySelector('script[src="'.concat(e,'"]'))){var s=0;if(n===a.GPLUS_ONE)if(window.gapi)t();else var l=setInterval((function(){window.gapi||20===s?(clearInterval(l),t()):(s+=1,o.a.increment("".concat(c,".loadScript.gplus_one.tries_").concat(s),i))}),r);else if(n===a.FACEBOOK)if(window.FB)t();else var p=setInterval((function(){window.FB||20===s?(clearInterval(p),t()):(s+=1,o.a.increment("".concat(c,".loadScript.facebook.tries_").concat(s),i))}),r);else t()}else{var f=document.createElement("script");f.src=e,f.async=!0,f.addEventListener("load",t),f.addEventListener("error",u),document.getElementsByTagName("head")[0].appendChild(f)}}))}},"44Ds":function(e,n,t){var o=t("e4Nc");function r(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function t(){var o=arguments,r=n?n.apply(this,o):o[0],i=t.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return t.cache=i.set(r,a)||i,a};return t.cache=new(r.Cache||o),t}r.Cache=o,e.exports=r},"4uTw":function(e,n,t){var o=t("Z0cm"),r=t("9ggG"),i=t("GNiM"),a=t("dt0z");e.exports=function(e,n){return o(e)?e:r(e,n)?[e]:i(a(e))}},"9Nap":function(e,n,t){var o=t("/9aa");e.exports=function(e){if("string"==typeof e||o(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},"9ggG":function(e,n,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=t("Z0cm"),i=t("/9aa"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.exports=function(e,n){if(r(e))return!1;var t=o(e);return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!i(e))||(c.test(e)||!a.test(e)||null!=n&&e in Object(n))}},GNiM:function(e,n,t){var o=t("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=o((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(r,(function(e,t,o,r){n.push(o?r.replace(i,"$1"):t||e)})),n}));e.exports=a},I01J:function(e,n,t){var o=t("44Ds");e.exports=function(e){var n=o(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}},JqDr:function(e,n,t){"use strict";var o=t("gxu6"),r=t("mwIZ"),i=t.n(r),a=t("eOdZ"),c=t("QLqj"),u=t("28DW"),s=t("VL22"),l=t("RNo4"),p=t("OX7c"),f=t("J8m7"),d=t("yM2L");function g(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw i}}}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=0;n.a=function e(n,t){var r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){_(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n),h=t.onCorsHandshakeHost,m=t.registerUserContext,O=t.sendActiveUserPing,v=t.successWithoutTokenErrorMessage,w=c.b.localStorage.getItem("visitedPages"),j=i()(window,["location","search"],null),k=Object(l.k)(j).utm_campaign;w&&(r.visited_pages=JSON.stringify(w)),k&&(r.utm_campaign=k);var S,T=c.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(T){var E,C=[],x=g(T);try{for(x.s();!(E=x.n()).done;){var L=E.value;L.is_shared_pin&&C.push({ts:L.ts,path:L.path,first_pin_image_signature:L.image_signature,is_shared:!0})}}catch(I){x.e(I)}finally{x.f()}C&&(r.visited_pages=JSON.stringify(C.concat(w||[])))}r.user_behavior_data=(S={},["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach((function(e){var n=c.b.localStorage.getItem(e);n&&(S[e]=n)})),JSON.stringify(S));var A=function(e){return Object(p.a)("signup"),o.c("galae"),o.c("fbalae"),O(),o.b("ujr","1"),function(e,n){var t,o=n.logContextEventType,r=n.trackRegisterSuccess;switch(e.container){case"home_page":t=1750,Object(u.a)("signup_home_page");break;case"mweb_homepage":t=1750,Object(u.a)("signup_mweb_home_page");break;case"plain_signup_modal":t=1751,Object(u.a)("signup_plain_modal");break;case"closeup_signup_modal":t=1752,Object(u.a)("signup_closeup_modal");break;case"widescreen_signup_modal":t=1753,Object(u.a)("signup_widescreen_modal");break;case"pinit_button_landing":t=1755,Object(u.a)("signup_pinit_button_landing");break;case"inspired_banner":Object(u.a)("signup_inspired_banner");break;case"category_jump_banner":Object(u.a)("signup_category_jump_banner");break;case"send_pin_banner":t=1756,Object(u.a)("send_pin_banner");break;default:t=1754,Object(u.a)("signup_unknown_placement")}var i=e.container||"container_unknown";Object(u.a)("signup.container.".concat(i));var a=e.signupSource||"signupSource_unknown";Object(u.a)("signup.source.".concat(a)),t&&o(t);var c,l=document.referrer;c=l?l.indexOf("/t.co/")>-1?"twitter":l.indexOf("google.")>-1?"google":l.indexOf("bing.")>-1?"bing":l.indexOf("facebook.")>-1?"facebook":"other":"direct",Object(u.a)("signup_referrer.".concat(c)),r(),Object(u.a)("web_signup.".concat(Object(s.b)(e),".success.").concat(e.page||"page_unknown",".").concat(i,".").concat(c,".").concat(e.hybridTier||"tier_unknown"))}(r,t),e},P=function(n){if(n.api_error_code===f.c&&(Object(u.a)("multi_step_set_age_restrict_cookie"),o.b("r_r","1",87600),o.b("_pinterest_pfob","disabled")),(!n.api_error_code||[f.g,f.f].includes(n.api_error_code))&&y<3)return Object(u.a)("unauth_web.signup_retry_error.".concat(String(n.api_error_code),".").concat(String(r.container))),y+=1,e(r,t);throw n};if(!r.facebook_id&&!r.gplus_code&&!r.gplus_id_token&&!r.google_open_id_token&&Boolean(r.email)&&h){Object(u.a)("unauth_cross_domain_register_debugging_counter");var D=function(e){Object(u.a)("web_cross_domain_register.".concat(e,".").concat(Object(s.b)(r)))};return D("attempt"),Object(d.registerUser)(r,m).then((function(e){A(e);var n=e.data||"";if(n)return D("success_with_token"),Object(d.exchangeTokenAndSetSession)(n,!0).then((function(e){D("success_token_exchanged")}),(function(e){throw D("success_token_not_exchanged"),e}));throw D("success_without_token"),new Error(v)}),(function(e){D("failure"),P(e)}))}return a.a.create("UserRegisterResource",r).callCreate().then((function(e){return A(e)}),(function(e){return P(e)}))}},LT60:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a}));var o=t("nKUr"),r=function(){},i=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a(e){var n=e.allowClickAndDrag,t=e.allowEsc,a=e.allowHlsVideoPlay,c=e.allowScroll,u=e.children,s=function(e){return function(e,n){n&&27===e.keyCode||i(e)}(e,t)};return Object(o.jsx)("div",{onAbort:i,onAnimationEnd:i,onAnimationIteration:i,onAnimationStart:i,onBlur:r,onCanPlay:a?r:i,onCanPlayThrough:i,onChange:i,onClick:n?r:i,onCompositionEnd:i,onCompositionStart:i,onCompositionUpdate:i,onContextMenu:i,onCopy:i,onCut:i,onDoubleClick:i,onDurationChange:i,onEmptied:i,onEncrypted:i,onEnded:i,onError:i,onFocus:r,onInput:i,onInvalid:i,onKeyDown:s,onKeyPress:s,onKeyUp:s,onLoad:i,onLoadedData:i,onLoadedMetadata:i,onLoadStart:i,onMouseDown:i,onMouseEnter:i,onMouseLeave:i,onMouseMove:n?r:i,onMouseOut:i,onMouseOver:i,onMouseUp:n?r:i,onPaste:i,onPause:i,onPlay:i,onPlaying:i,onProgress:i,onRateChange:i,onScroll:c?r:i,onSeeked:i,onSeeking:i,onSelect:i,onStalled:i,onSubmit:i,onSuspend:i,onTimeUpdate:i,onTouchCancel:i,onTouchEnd:n?r:i,onTouchMove:n?r:i,onTouchStart:n?r:i,onTransitionEnd:i,onVolumeChange:i,onWaiting:i,onWheel:i,children:u})}},OCob:function(e,n,t){"use strict";var o=t("+NLT");n.a=function(){return{referrer:o.a.instance.referrer,facebookToken:o.a.instance.facebook_token,unauthId:o.a.instance.unauth_id,origin:o.a.instance.origin,appType:o.a.instance.app_type}}},TbPR:function(e,n,t){"use strict";t.r(n);var o=t("q1tI"),r=t("/MKj"),i=t("gxu6"),a=t("OCob"),c=t("Ye/N"),u=t("37no"),s=t("kJuv"),l=t("sv3x"),p=t("vjiL"),f=t("s8BS"),d=t("kmwA"),g=t("28DW"),h=t("v/Q4"),b=t("zRck"),_=t("HU+g"),y=t("U4JR"),m=t("QAzJ"),O=t("EC51"),v=t("n6mq"),w=t("nKUr");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function S(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,n){return(T=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function E(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=L(e);if(n){var r=L(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return C(this,t)}}function C(e,n){return!n||"object"!==j(n)&&"function"!=typeof n?x(e):n}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var P=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}(i,e);var n,t,o,r=E(i);function i(){var e;k(this,i);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return A(x(e=r.call.apply(r,[this].concat(t))),"state",{animationMinHeight:-1,showRegisterRequestLoading:!1}),A(x(e),"mountStyle",(function(){return e.setState({showRegisterRequestLoading:!0})})),A(x(e),"requestAnimationFrameId",null),A(x(e),"handleLoginButtonClick",(function(n){var t=n.event;Object(g.a)("unauth.google_one_tap.confirmation_dialog.".concat(e.props.loggingId,".login_click")),e.clearDelayedSignupTimeout(),t&&(t.preventDefault(),t.stopPropagation()),e.props.handleLogin()})),e}return n=i,(t=[{key:"componentDidMount",value:function(){var e=this,n=1e3*this.props.signupDelay;this.delayedSignupTimeoutId=window.setTimeout((function(){Object(g.a)("unauth.google_one_tap.confirmation_dialog.".concat(e.props.loggingId,".signup_delay_timer_reached")),e.requestAnimationFrameId=window.requestAnimationFrame(e.mountStyle),e.props.handleSignup()}),n)}},{key:"componentWillUnmount",value:function(){this.clearDelayedSignupTimeout(),this.cancelAnimationFrame()}},{key:"clearDelayedSignupTimeout",value:function(){this.delayedSignupTimeoutId&&window.clearTimeout(this.delayedSignupTimeoutId)}},{key:"cancelAnimationFrame",value:function(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e,n=this,t=this.state,o=t.animationMinHeight,r=t.showRegisterRequestLoading,i={transitionProperty:"min-height",transitionDuration:"500ms",transitionTimingFunction:"ease-in-out"};if(o>=0){var a=o;r&&(a=0),Object.assign({},i,{minHeight:(e=a,e+"px")})}return Object(w.jsx)("div",{style:i,ref:function(e){!e||n.state.showRegisterRequestLoading||n.state.animationMinHeight>0||n.setState({animationMinHeight:e.clientHeight})},children:Object(w.jsxs)(v.e,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",children:[Object(w.jsx)(v.e,{children:Object(w.jsx)(v.Y,{align:"center",weight:"bold",children:Object(w.jsx)("span",{className:"deprecatedTextSizeXL",children:r?c.a._("Finishing up...","Title of a dialog telling the user that an account is almost done being created.","Title of a dialog telling the user that an account is almost done being created."):c.a._("Creating your account...","Title of a dialog telling the user that an account is being created.","Title of a dialog telling the user that an account is being created.")})})}),Object(w.jsx)(v.e,{paddingY:4,children:Object(w.jsx)(v.R,{accessibilityLabel:c.a._("Account is being created","Accessibility label for account creation loading dialog","Accessibility label for account creation loading dialog"),show:!0})}),r?null:Object(w.jsx)(v.e,{marginTop:2,children:Object(w.jsx)(v.Y,{inline:!0,align:"center",children:c.a._("Didn’t mean to create a new account?","Description text telling the user that they can log in if they did not intend to create a new account","Description text telling the user that they can log in if they did not intend to create a new account")})}),r?null:Object(w.jsx)(v.e,{children:Object(w.jsx)(v.Y,{inline:!0,align:"center",children:Object(w.jsx)(O.a,{inline:!0,href:"/login",onClick:this.handleLoginButtonClick,children:c.a._("Click here to log in.","Login button which will show the login modal and enable the user to log in","Login button which will show the login modal and enable the user to log in")})})})]})})}}])&&S(n.prototype,t),o&&S(n,o),i}(o.Component),D=t("b7nI"),I=t("WR05"),R=t("pLLR");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){J(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function U(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function B(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,n){return(H=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function F(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=z(e);if(n){var r=z(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return W(this,t)}}function W(e,n){return!n||"object"!==G(n)&&"function"!=typeof n?q(e):n}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var K={modalOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},staticContinueButtonLoginLink:{cursor:"pointer",fontWeight:"normal"}},Z="delayedSignupLoadingSpinner",Y="staticSignupLogin",V="staticSignupLoginWithTOS",X=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&H(e,n)}(i,e);var n,t,o,r=F(i);function i(){var e;U(this,i);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return J(q(e=r.call.apply(r,[this].concat(t))),"handleCancelClick",(function(){e.trackScopedAction("cancel.click"),Object(y.b)(101,{element:73,view:10,viewParameter:3202}),e.props.handleCancelClick()})),J(q(e),"handleConfirmSignup",(function(){e.trackScopedAction("confirm.click"),Object(y.b)(101,{element:31,view:10,viewParameter:3202}),e.props.handleConfirmSignup(!1)})),J(q(e),"handleConfirmSignupWithSpinner",(function(){e.trackScopedAction("confirm.click"),Object(y.b)(101,{element:31,view:10,viewParameter:3202}),e.props.handleConfirmSignup(!0)})),J(q(e),"handleShowLogin",(function(){e.trackScopedAction("login.click"),Object(y.b)(101,{element:30,view:10,viewParameter:3202}),e.props.handleShowLogin()})),e}return n=i,(t=[{key:"componentDidMount",value:function(){Object(y.b)(120,{viewParameter:3202}),this.disableBackgroundScrolling(),this.trackScopedAction("shown")}},{key:"componentWillUnmount",value:function(){this.enableBackgroundScrolling()}},{key:"trackScopedAction",value:function(e){Object(g.a)("unauth.google_one_tap.confirmation_dialog.".concat(this.props.step,".").concat(e))}},{key:"disableBackgroundScrolling",value:function(){document.body&&(document.body.style.overflow="hidden")}},{key:"enableBackgroundScrolling",value:function(){document.body&&(document.body.style.overflow="")}},{key:"renderDelayedSignupConfirmation",value:function(e){var n=this;return Object(w.jsx)(P,{signupDelay:e,handleLogin:this.handleShowLogin,handleSignup:function(){n.handleConfirmSignup()},loggingId:Z})}},{key:"renderContentInModalContainer",value:function(e){var n=this.props,t=n.layoutStyle,o=n.loading;return"top"===t?Object(w.jsx)("div",{style:K.modalOverlay,children:Object(w.jsxs)(v.e,{color:"white",direction:"column",display:"flex",margin:6,padding:7,position:"fixed",right:!0,rounding:2,top:!0,width:376,children:[o?Object(w.jsx)(D.a,{}):null,e]})}):Object(w.jsx)("div",{style:K.modalOverlay,children:Object(w.jsxs)(v.e,{bottom:!0,color:"white",direction:"column",display:"flex",height:168,padding:7,position:"fixed",width:"100%",children:[o?Object(w.jsx)(D.a,{}):null,e]})})}},{key:"renderStaticSignupLoginConfirmation",value:function(e){var n=this.props.country;return Object(w.jsxs)(v.e,{children:[Object(w.jsx)(v.e,{display:"inlineBlock",position:"absolute",top:!0,right:!0,marginTop:2,marginEnd:2,children:Object(w.jsx)(v.w,{accessibilityLabel:c.a._("Cancel","Button to close the signup/login modal","Button to close the signup/login modal"),icon:"cancel",onClick:this.handleCancelClick,size:"sm"})}),Object(w.jsx)(v.Y,{align:"left",weight:"bold",children:Object(w.jsx)("span",{className:"deprecatedTextSizeXL",children:c.a._("Continue to Pinterest","Title of a dialog telling enabling the user to continue with sign up or log in","Title of a dialog telling enabling the user to continue with sign up or log in")})}),Object(w.jsx)(v.e,{marginTop:2,children:Object(w.jsx)(v.Y,{align:"left",children:c.a._("Hmm, it looks like you don't have an account yet. Let's get started!","Description text of a dialog asking the user to sign up for a Pinterest account","Description text of a dialog asking the user to sign up for a Pinterest account")})}),Object(w.jsx)(v.e,{marginTop:5,children:Object(w.jsx)(v.f,{color:"red",onClick:this.handleConfirmSignupWithSpinner,text:c.a._("Sign up","Text on a button which will create an account when clicked","Text on a button which will create an account when clicked")})}),Object(w.jsx)(v.e,{marginTop:2,children:Object(w.jsx)(v.f,{color:"gray",onClick:this.handleShowLogin,text:c.a._("Log in using a different method","Text on a button which will take the user to login when clicked.","Text on a button which will take the user to login when clicked.")})}),e?Object(w.jsx)(v.e,{marginTop:4,marginStart:4,marginEnd:4,children:Object(w.jsx)(I.a,{country:n,dark:!0})}):null]})}},{key:"render",value:function(){if(this.props.shouldHide)return null;var e=null;return this.props.step===Z?e=this.renderDelayedSignupConfirmation(this.props.delayedSignupLoadingSpinnerDuration):this.props.step===Y?e=this.renderStaticSignupLoginConfirmation(!1):this.props.step===V&&(e=this.renderStaticSignupLoginConfirmation(!0)),this.renderContentInModalContainer(e)}}])&&B(n.prototype,t),o&&B(n,o),i}(o.Component);function Q(e){var n=Object(R.d)().country;return Object(w.jsx)(X,M(M({},e),{},{country:n}))}var $="disableUnauthGoogleOneTap",ee=t("J8m7"),ne=t("VL22"),te=t("h7e3"),oe=t("4NNh"),re=t("iMWs");function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(t),!0).forEach((function(n){ge(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ue(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function se(e,n){return(se=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function le(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=de(e);if(n){var r=de(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return pe(this,t)}}function pe(e,n){return!n||"object"!==ie(n)&&"function"!=typeof n?fe(e):n}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var he=["US","CA","NZ","AU"],be=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&se(e,n)}(h,e);var n,t,o,r=le(h);function h(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),ge(fe(n=r.call(this,e)),"annotateOneTapStopwatch",(function(e){return Object(te.b)("google_autologin",e)})),ge(fe(n),"abortOneTapStopwatch",(function(e){return Object(te.a)("google_autologin",e)})),ge(fe(n),"stopOneTapStopwatch",(function(){return Object(te.d)("google_autologin")})),ge(fe(n),"onRetrieveCredentialsSuccess",(function(e,t){i.b($,"1",168),n.showLoading(),n.trackGoogleOneTapAction("success");var o={google_open_id_token:e,autologin:"auto"===t};n.login(o).then((function(e){n.onLoginSuccess(e)}),(function(e){n.onLoginFailure(o,t,e)})),n.trackSignupLoginEvent(7534)})),ge(fe(n),"onLoginSuccess",(function(){var e=n.props.nextUrl;n.trackGoogleOneTapAction("login.success"),n.trackSignupLoginEvent(7536),e?l.b.handleRedirect(e):l.b.handleRedirectWithFallbackWindowLocation()})),ge(fe(n),"onLoginFailure",(function(e,t,o){var r=n.props,i=r.handleLoginError,a=r.handle2FALogin;n.hideLoading();var u=o&&o.api_error_code||0;if(n.trackGoogleOneTapAction("login.error.".concat(u)),n.trackSignupLoginEvent(7535),u===ee.t)"btn"===t?(n.setState({googleOpenId:e.google_open_id_token}),n.attemptSignup(!1)):n.showConfirmationDialog(e);else if(u===ee.r)a({gplus_id_token:e.google_open_id_token});else if(u===ee.v)n.setState({showAccountSuspended:!0});else{var s=c.a._("We couldn’t log you in with that account. Try the Google button!");Object(_.a)(s),i(o)}})),ge(fe(n),"onSignupSuccess",(function(e){n.trackGoogleOneTapAction("signup.success"),n.trackSignupLoginEvent(7487),l.b.handleSignupRedirect("/")})),ge(fe(n),"onSignupFailure",(function(e){var t=e&&e.api_error_code||0;n.trackGoogleOneTapAction("signup.error.".concat(t)),n.trackSignupLoginEvent(7488),n.hideLoading(),n.hideConfirmationDialog();var o=c.a._("We couldn’t sign you up with that account. Try the Google button!");Object(_.a)(o),n.props.handleSignupError()})),ge(fe(n),"trackGoogleOneTapAction",(function(e){Object(g.a)("unauth.google_one_tap.".concat(e))})),ge(fe(n),"handleCancelOneTap",(function(){n.hideConfirmationDialog()})),ge(fe(n),"inMandatoryAgeStepENCountriesExperiment",(function(){var e=n.props.requestContext,t=e.country,o=e.seoUnauthExperiments;return he.includes(t)&&(o.v2ActivateExperiment("web_unauth_mandatory_age_step_got_en")||"").startsWith("enabled")})),ge(fe(n),"attemptSignup",(function(e){var t=n.props,o=t.handleSignupConfirmed,r=t.pageContext,i=t.requestContext;e&&n.showLoading();var a=n.state.googleOpenId,c=Object(oe.b)(a),u={google_open_id_token:a,first_name:c.given_name,last_name:c.family_name,image_url:c.picture,container:b.g,hybridTier:null==r?void 0:r.hybridTier,page:null==r?void 0:r.pageType};o&&(Object(ne.d)(i.country)||n.inMandatoryAgeStepENCountriesExperiment())?o(ne.a.GOOGLE_ONE_TAP,{},u):(i.experiments.flush(),Object(p.a)(u).then(n.onSignupSuccess,n.onSignupFailure),n.trackSignupLoginEvent(7537))})),ge(fe(n),"renderGoogleConfirmationDialog",(function(e,t){return Object(w.jsx)(Q,{delayedSignupLoadingSpinnerDuration:2,handleCancelClick:n.handleCancelOneTap,handleConfirmSignup:n.attemptSignup,handleShowLogin:n.props.handleShowLogin,layoutStyle:e,loading:n.state.loading,shouldHide:n.props.shouldHide,step:t})})),n.state={confirmationDialogStep:void 0,googleOpenId:"",loading:!1,showAccountSuspended:!1},n}return n=h,(t=[{key:"componentDidMount",value:function(){var e=this.props,n=e.pageContext,t=e.requestContext;"1"!==i.a($)&&!i.a("fba")||!t.isBot&&i.a("fba")?(this.setupGoogleOneTap(),t.isBot||Object(g.a)("unauth_web_container.".concat(b.g,".").concat(String(null==n?void 0:n.hybridTier),".other.shown"))):this.abortOneTapStopwatch("disabled")}},{key:"componentDidUpdate",value:function(e){this.props.shouldHide&&!e.shouldHide&&this.hide()}},{key:"initializeGoogleOneTap",value:function(){this.trackGoogleOneTapAction("sdk_exists");var e=window.google.accounts.id;e.initialize({client_id:d.a.settings.GPLUS_CLIENT_ID,auto_select:!i.a("fba"),callback:this.handleOneTapResponse.bind(this),cancel_on_tap_outside:!1,context:"use",activity_listener:this.handleActivity.bind(this)}),this.props.dispatch({type:"GOOGLE_ONE_TAP_INITIALIZED",payload:{}}),this.trackGoogleOneTapAction("initialize"),e.prompt(this.handleMomentNotification.bind(this))}},{key:"getGoogleId",value:function(){if("undefined"==typeof window)return null;var e=window.google;return e&&e.accounts&&e.accounts.id}},{key:"setupGoogleOneTap",value:function(){var e=this,n=this.props.cancelableAutoSelectEnabled;this.annotateOneTapStopwatch("beforeLoadOneTapScript"),Object(g.a)("web_unauth.gsi_script.start_dynamic_loading"),Object(u.b)("".concat(oe.a).concat(n?"?feature=cancelableAutoSelect":"")).then((function(){e.annotateOneTapStopwatch("afterLoadOneTapScript"),e.trackGoogleOneTapAction("gsi_script_loaded");var n=window.google;n&&n.accounts&&n.accounts.id?e.initializeGoogleOneTap():e.abortOneTapStopwatch("noAccountFound")}))}},{key:"handleMomentNotification",value:function(e){var n=e.getMomentType();"display"===n?e.isDisplayed()?this.trackGoogleOneTapAction("display_moment.displayed"):this.trackGoogleOneTapAction("display_moment.not_displayed.".concat(e.getNotDisplayedReason())):"skipped"===n?this.trackGoogleOneTapAction("skipped_moment.".concat(e.getSkippedReason())):"dismissed"===n&&this.trackGoogleOneTapAction("dismissed_moment.".concat(e.getDismissedReason()))}},{key:"handleOneTapResponse",value:function(e){if(e){this.stopOneTapStopwatch();var n=e.select_by;this.trackGoogleOneTapAction("select_by.".concat(n)),this.onRetrieveCredentialsSuccess(e.credential,n)}else this.abortOneTapStopwatch("noResponse")}},{key:"handleActivity",value:function(e){if(e){if("error"===e.type)return this.trackGoogleOneTapAction("error.".concat(e.errorType)),this.handleEmptyCredentials(),void this.props.dispatch({type:"GOOGLE_ONE_TAP_FAILED",payload:{}});var n="ui_change"===e.type?e.uiActivityType:e.userActivityType;this.trackGoogleOneTapAction("activity.".concat(e.type,".").concat(n)),"close_prompt"===n&&this.handleEmptyCredentials()}}},{key:"handleEmptyCredentials",value:function(){this.props.handleEmptyCredentials&&this.props.handleEmptyCredentials()}},{key:"hide",value:function(){this.hideConfirmationDialog()}},{key:"trackSignupLoginEvent",value:function(e){var n=this.props.viewer;n.isAuth?Object(y.b)(e,{login_state:n.isLimitedLogin?2:1,signup_login_method:4}):Object(y.b)(e,{signup_login_method:4})}},{key:"login",value:function(e){var n=this.props.pageContext,t={container:b.g,hybridTier:null==n?void 0:n.hybridTier,page:null==n?void 0:n.pageType};return Object(s.a)(e,Object(a.a)(),t)}},{key:"showConfirmationDialog",value:function(e){var n,t=this.props.container;n="InspiredWallSignup"===t?Y:"login_page"===t?V:e.autologin?Y:Z,this.setState({googleOpenId:e.google_open_id_token,confirmationDialogStep:n})}},{key:"hideConfirmationDialog",value:function(){this.setState({confirmationDialogStep:void 0})}},{key:"showLoading",value:function(){this.setState({loading:!0})}},{key:"hideLoading",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,n=this.props.requestContext,t=this.state.showAccountSuspended;if(n.isBot)return null;if(t)return Object(w.jsx)(f.a,{onClose:function(){return e.setState({showAccountSuspended:!1})}});this.inMandatoryAgeStepENCountriesExperiment();var o=this.state.confirmationDialogStep;return o?this.renderGoogleConfirmationDialog("top",o):null}}])&&ue(n.prototype,t),o&&ue(n,o),h}(o.Component);var _e=Object(re.c)((function(e){return Object(w.jsx)(be,ce(ce({},e),{},{dispatch:Object(r.useDispatch)(),requestContext:Object(R.d)(),viewer:Object(h.a)(),cancelableAutoSelectEnabled:Object(m.b)("web_cancelable_google_autologin")().anyEnabled}))}));function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Oe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ve(e,n){return(ve=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function we(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Se(e);if(n){var r=Se(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return je(this,t)}}function je(e,n){return!n||"object"!==ye(n)&&"function"!=typeof n?ke(e):n}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ee=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ve(e,n)}(i,e);var n,t,o,r=we(i);function i(){var e;me(this,i);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return Te(ke(e=r.call.apply(r,[this].concat(t))),"state",{showGoogleOneTap:!0}),Te(ke(e),"hide",(function(){e.setState({showGoogleOneTap:!1})})),Te(ke(e),"reportFailureToShow",(function(){e.props.handleFailureToShow&&e.props.handleFailureToShow()})),e}return n=i,(t=[{key:"render",value:function(){var e=this,n=this.state.showGoogleOneTap,t=this.props,o=t.container,r=t.handleSignupConfirmed,i=t.handleLoginError,a=t.handleLoginWithMfa,c=t.handleSignupError,u=t.handleShowLogin,s=t.nextUrl,l=t.shouldHide;return n?Object(w.jsx)(_e,{container:o,handleEmptyCredentials:this.hide,handle2FALogin:function(n){e.hide(),a(n)},handleLoginError:function(n){e.hide(),i(n)},handleSignupConfirmed:function(n,t,o){e.hide(),r&&r(n,t,o)},handleSignupError:function(){e.hide(),c()},handleShowLogin:function(){e.hide(),u()},nextUrl:s,reportFailureToShow:this.reportFailureToShow,shouldHide:l}):null}}])&&Oe(n.prototype,t),o&&Oe(n,o),i}(o.Component);Te(Ee,"defaultProps",{container:"unknown",shouldHide:!1});n.default=Ee},TgLd:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return l}));var o=t("q1tI"),r=t("D2p8"),i=t("LT60"),a=t("QAzJ"),c=t("n6mq"),u=t("nKUr"),s=new c.q(1e3);function l(e){var n=e.accessibilityModalLabel,t=e.align,l=e.allowClickAndDrag,p=e.allowHlsVideoPlay,f=e.allowScroll,d=e.children,g=e.closeOnOutsideClick,h=e.footer,b=e.heading,_=e.onDismiss,y=e.modalRef,m=e.role,O=e.size,v=e.subHeading,w=Object(a.b)("internal_scrollable_container_gestalt_experiment")().anyEnabled;Object(o.useEffect)((function(){return r.c.pause(),function(){r.c.resume()}}),[]);return Object(u.jsx)(c.z,{children:Object(u.jsx)(i.a,{allowClickAndDrag:l,allowEsc:!0,allowHlsVideoPlay:p,allowScroll:f,children:Object(u.jsx)(c.e,{position:"absolute",zIndex:s,children:Object(u.jsx)(c.G,{_dangerousScrollableExperimentEnabled:w,accessibilityModalLabel:n,align:t,closeOnOutsideClick:g,heading:b,footer:h,onDismiss:function(){r.c.resume(),_()},ref:y,role:m,size:O,subHeading:v,children:d})})})})}},VL22:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return a})),t.d(n,"c",(function(){return c}));var o=t("kmwA"),r={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},i=function(e){return e.facebook_id?r.FACEBOOK:e.google_open_id_token?r.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?r.GOOGLE:e.line_id_token?r.LINE:e.email?r.EMAIL:r.OTHER},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in o.a.settings.MINIMUM_AGE_BY_EU_COUNTRY},c=function(e){return o.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||o.a.settings.LATAM_AGE_COLLECTION.has(e)}},ZWtO:function(e,n,t){var o=t("4uTw"),r=t("9Nap");e.exports=function(e,n){for(var t=0,i=(n=o(n,e)).length;null!=e&&t<i;)e=e[r(n[t++])];return t&&t==i?e:void 0}},dt0z:function(e,n,t){var o=t("zoYe");e.exports=function(e){return null==e?"":o(e)}},eUgh:function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length,r=Array(o);++t<o;)r[t]=n(e[t],t,e);return r}},h7e3:function(e,n,t){"use strict";t.d(n,"c",(function(){return f})),t.d(n,"a",(function(){return g})),t.d(n,"b",(function(){return h})),t.d(n,"d",(function(){return b}));var o=t("3R0Q"),r=t("EHyI"),i=t("SyXB"),a=t("FylZ"),c=t("mRg4"),u=t("XtwW"),s=t("fZG9"),l=t("3/Bf"),p={},f=function(e,n){n.forEach((function(n){p[n]=function(e){var n=e.name,t=e.pwtStaticContext;if(!u.a||!Object(r.a)())return null;var i={type:"stopwatch",name:n},l=[],p=!0;return{abort:function(e){p&&(p=!1,Object(c.a)({metricId:i,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:function(e){p&&l.push({label:e,timestamp:u.a.now()})},stop:function(){if(p){p=!1;var e={type:"COMPLETE",traceId:Object(a.a)(),startTime:0,endTime:u.a.now(),spans:[],annotationMap:Object(o.a)(l),binaryAnnotationMap:Object(s.a)({metricId:i,pwtStaticContext:t})};Object(c.a)({metricId:i,pwtStaticContext:t,result:e})}}}}({name:n,pwtStaticContext:e})}))},d=function(e){return p[e]},g=function(e,n){var t=d(e);if(t)try{t.abort(n)}catch(o){Object(l.b)("app_load_stopwatch_error",{name:e,result:"abort"})}},h=function(e,n){var t=d(e);t&&(t.annotate(n),Object(i.c)("stopwatch_".concat(e,"_").concat(n)))},b=function(e){var n=d(e);if(n)try{n.stop()}catch(t){Object(l.b)("app_load_stopwatch_error",{name:e,result:"complete"})}}},kJuv:function(e,n,t){"use strict";var o=t("eOdZ"),r=t("QLqj"),i=t("kmwA"),a=t("J8m7"),c=t("AXUD"),u=t("dish"),s=t("VL22"),l=t("OX7c"),p=t("28DW"),f=t("yM2L");function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?s.a.FACEBOOK:e.google_open_id_token?s.a.GOOGLE_ONE_TAP:e.gplus_id_token?s.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?s.a.EMAIL:s.a.OTHER},_=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="referrer_unknown";try{var r=document.referrer;o=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(l){}var i=b(e),a=n===Object(n)?n.hybridTier:"tier_unknown",c=n===Object(n)?n.container:"container_unknown";Object(p.a)("login.referrer."+o+"."+i),Object(p.a)("login.container."+c+"."+i),Object(p.a)("login.type."+i);var u=b(e)||"method_unknown",s=n.page||"page_unknown";e.gplus_autologin?t?(Object(p.a)("mweb_autologin.google_success"),Object(p.i)("new_mweb_autologin_google",{page:s,referrer:o,container:c,hybridTier:a})):(Object(p.a)("web_autologin_google"),Object(p.i)("new_web_autologin_google",{page:s,referrer:o,container:c,hybridTier:a})):e.facebook_autologin?(Object(p.a)("web_autologin_facebook"),Object(p.i)("new_web_autologin_facebook",{page:s,referrer:o,container:c,hybridTier:a})):(Object(p.a)("web_login.".concat(u,".success.").concat(s,".").concat(c,".").concat(o,".").concat(a)),Object(p.i)("new_web_login.".concat(u,".success"),{page:s,referrer:o,container:c,hybridTier:a}))},y=function(e,n){Object(p.a)("web_cross_domain_login.".concat(e,".").concat(b(n)))},m=function(e){return!e.mfa_resend&&!!e.username_or_email},O=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown_source",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var r=e.http_status===c.b?c.b:e.api_error_code,i=r;a.b.has(r)&&(i=a.b.get(r));var u=n.container;o?Object(p.a)("unauth_web_client_cctld_login_api_error.".concat(String(i),".").concat(u||"unknow_container",".").concat(t)):Object(p.a)("unauth_web_client_login_api_error.".concat(String(i),".").concat(u||"unknow_container",".").concat(t))}},v=function(e,n,t,o){y("attempt",e);var r=o.referrer,i=o.facebookToken,a=o.unauthId;return Object(f.loginUser)(e,{recaptchaV3Token:n,referrer:r,facebookToken:i,unauthId:a}).then((function(n){if(n&&n.data){y("success_with_token",e);var o=n.data;return Object(f.exchangeTokenAndSetSession)(o).then((function(n){return y("success_token_exchanged",e),_(e,t),Promise.resolve()}),(function(n){throw y("success_token_not_exchanged",e),n}))}throw y("success_without_token",e),new Error}),(function(n){throw y("failure",e),O(n,t,b(e),!0),n}))};n.a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(m(e)){var f=i.a.settings.CORS_HANDSHAKE_DOMAINS;if(-1!==f.indexOf(n.origin))return v(e,s,t,n)}var d=a?null:r.b.localStorage.getItem("visitedPagesBeforeLogin"),h=g(g({},e),{},{get_user:e.get_user||e.switch_account&&a,app_type_from_client:7===n.appType?7:5,visited_pages_before_login:d?JSON.stringify(d):null,recaptchaV2Token:c,recaptchaV3Token:s}),y=o.a.create("UserSessionResource",h),w={showError:!1,async:!0};return y.callCreate(w).then((function(n){return _(e,t,p),Object(u.b)(!1),Object(l.a)("login").then((function(){return n}))}),(function(n){return O(n,t,b(e)),Promise.reject(n)}))}},mwIZ:function(e,n,t){var o=t("ZWtO");e.exports=function(e,n,t){var r=null==e?void 0:o(e,n);return void 0===r?t:r}},qpbZ:function(e,n,t){"use strict";function o(e,n,t){return e.split(t).map((function(e){if(e.match(t)){var o=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(n,o))return n[o]}return e}))}t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return c}));var r=/(\{\{\s*\w+\s*\}\})/g;function i(e,n){return o(e,n,r)}var a=/(\{\s*\w+\s*\})/g;function c(e,n){return o(e,n,a)}},vjiL:function(e,n,t){"use strict";var o=t("+NLT"),r=t("m2Wt"),i=t("h4v/");var a=t("zpPL");var c=t("Jr++"),u=t("Ye/N"),s=t("eqAH"),l=t("kmwA"),p=t("28DW"),f=t("JqDr");n.a=function(e){var n=o.a.instance,t=n.facebook_token,d=n.invite_code,g=n.locale,h=n.origin,b=n.referrer,_=n.unauth_id,y=n.user_agent_platform,m={logContextEventType:function(e){i.a.getInstance().addEvent(r.a.fromEventType(e))},sendActiveUserPing:s.a,registerUserContext:{facebookToken:t,inviteCode:d,locale:g,referrer:b,unauthId:_},onCorsHandshakeHost:l.a.settings.CORS_HANDSHAKE_DOMAINS.includes(h),successWithoutTokenErrorMessage:u.a._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue."),trackRegisterSuccess:function(){var e;Object(p.a)("signup_referrer_module.".concat(String(Object(c.a)().referrer||((e=a.a.instance.getState().ui.mainComponent.initial)?e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase():null)))),"ios"===y?Object(p.a)("signup_mweb.iphone_web"):"ipad"===y?Object(p.a)("signup_mweb.ipad_web"):"android"===y&&Object(p.a)("signup_mweb.android_web")}};return Object(f.a)(e,m)}},yM2L:function(e,n,t){"use strict";t.r(n),t.d(n,"exchangeTokenAndSetSession",(function(){return l})),t.d(n,"verifyLoggedInStatus",(function(){return p})),t.d(n,"registerUser",(function(){return f})),t.d(n,"loginUser",(function(){return d}));var o=t("T0g9"),r=t("eOdZ"),i=t("kmwA"),a=t("28DW"),c=t("J8m7"),u=i.a.settings.ACCOUNTS_PINTEREST_URL,s=function(e,n,t,o){var r=function(e){var n=new Error(e.statusText);throw n.response=e,!n.api_error_code&&n.response&&(n.api_error_code=n.response.code,n.message=n.response.message),n},i={credentials:"include",mode:"cors"};return"POST"===t&&(i.method="POST",i.body=n,i.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o},o||Object(a.a)("unauth.auth_handshake.cross_domain.no_unauth_id.".concat(t))),fetch(e,i).then((function(e){return 200===e.status||401===e.status||409===e.status?e:(r(e),{})})).then((function(e){return e.json()})).then((function(e){return"success"===e.status?Promise.resolve(e):e.code===c.r?(e.api_error_code=e.code,Promise.reject(e)):(r(e),{})})).catch((function(e){throw e}))},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.create("HandshakeSessionResource",{token:e,isRegistration:n}).callCreate()},p=function(e){s("".concat(u,"/v3/handshake/verify/"),"","GET",e).then((function(e){if(e&&e.data){var n=e.data;l(n).then((function(e){window.location.reload()}),(function(e){}))}}),(function(e){}))},f=function(e,n){var t=n.facebookToken,r=n.inviteCode,a=n.locale,c=n.referrer,u=n.unauthId,l=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",p={};if(p.email=e.email||"",p.username=e.username||"",p.password=e.password||"",p.first_name=e.first_name||"",p.last_name=e.last_name||"",p.country=e.country||"",p.locale=a,p.referrer=c,e.age){var f=new Date;f.setFullYear(f.getFullYear()-e.age);var d=parseInt(f/1e3,10);p.birthday=d.toString()}if(e.custom_gender&&(p.custom_gender=e.custom_gender),e.gender&&(p.gender=e.gender),e.business_name&&(p.account_type=e.account_type,p.business_name=e.business_name,p.first_name=e.business_name),r&&(p.invite_code=r),e.facebook_id){var g=t||e.facebook_token||"";p.facebook_id=e.facebook_id,p.facebook_token=g,p.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(p.password=e.password||"",p.one_time_code=e.gplus_code,p.id_token=e.gplus_id_token,p.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(p.recaptcha_v3_token=e.recaptchaV3Token),s("".concat(i.a.settings.ACCOUNTS_PINTEREST_URL,"/v3/register/").concat(l,"/"),Object(o.a)(p),"POST",u)},d=function(e,n){var t=n.facebookToken,r=n.recaptchaV3Token,a=n.referrer,c=n.unauthId,u=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",l={};if(e.username_or_email&&(l.username_or_email=e.username_or_email.trim(),l.password=e.password,l.referrer=a),e.facebook_id){var p=t||e.facebook_token||"";l.facebook_id=e.facebook_id,l.facebook_token=p,l.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(l.gplus_id_token=e.gplus_id_token,l.gplus_access_token=e.gplus_access_token,l.gplus_expires_at=e.gplus_expires_at,l.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(l.mfa_token=e.mfa_token),r&&(l.token=r),s("".concat(i.a.settings.ACCOUNTS_PINTEREST_URL,"/v3/login/").concat(u,"/"),Object(o.a)(l),"POST",c)}},zoYe:function(e,n,t){var o=t("nmnc"),r=t("eUgh"),i=t("Z0cm"),a=t("/9aa"),c=o?o.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(i(n))return r(n,e)+"";if(a(n))return u?u.call(n):"";var t=n+"";return"0"==t&&1/n==-Infinity?"-0":t}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/217-9484d2f319fbd340c494.js.map